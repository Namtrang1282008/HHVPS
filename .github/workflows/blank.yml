name: VPS-LINUX-GIGABIT-IPHONE
on: workflow_dispatch

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ› ï¸ 1. CÃ i Ä‘áº·t há»‡ thá»‘ng & Tailscale
        run: |
          curl -fsSL https://tailscale.com/install.sh | sh > /dev/null 2>&1
          sudo tailscale up --authkey=${{ secrets.TAILSCALE_AUTHKEY }} --accept-dns=false
          sudo apt update && sudo apt install -y openssh-server jq > /dev/null 2>&1

      - name: ğŸ”‘ 2. Thiáº¿t láº­p tÃ i khoáº£n & Cá»•ng
        run: |
          # Thiáº¿t láº­p máº­t kháº©u lÃ : vps12345
          echo "runner:vps12345" | sudo chpasswd
          sudo service ssh start

      - name: ğŸ“Š 3. HIá»‚N THá»Š THÃ”NG TIN ÄÄ‚NG NHáº¬P
        run: |
          IP_ADDR=$(tailscale ip -4)
          echo -e "\n\033[1;32m=========================================="
          echo -e "   THÃ”NG TIN VPS LINUX Cá»¦A Báº N"
          echo -e "=========================================="
          echo -e "ğŸ“ Äá»ŠA CHá»ˆ IP : $IP_ADDR"
          echo -e "ğŸ‘¤ TÃ€I KHOáº¢N  : runner"
          echo -e "ğŸ”‘ Máº¬T KHáº¨U   : vps12345"
          echo -e "ğŸšª Cá»”NG (PORT): 22"
          echo -e "==========================================\033[0m\n"
          echo "LÆ°u Ã½: Báº¡n pháº£i báº­t app Tailscale trÃªn iPhone má»›i káº¿t ná»‘i Ä‘Æ°á»£c IP nÃ y!"

      - name: â³ 4. Duy trÃ¬ VPS (6 Giá»)
        run: sleep 21600
